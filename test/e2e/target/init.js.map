{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/@kirinnee/core/index.js","webpack:///./src/classLibrary/Rimager.ts","webpack:///./src/index.ts","webpack:///./test/e2e/assets/test/book.png","webpack:///./test/e2e/assets/test/sop.png","webpack:///./test/e2e/assets/test/sophie.png","webpack:///./test/e2e/init.ts","webpack:///./test/e2e/rimage.config.ts"],"names":[],"mappings":"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","file":"init.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})((typeof window !== 'undefined' ? window : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","!function(t,r){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=r();else if(\"function\"==typeof define&&define.amd)define([],r);else{var n=r();for(var e in n)(\"object\"==typeof exports?exports:t)[e]=n[e]}}(\"undefined\"!=typeof window?window:this,function(){return function(n){var e={};function o(t){if(e[t])return e[t].exports;var r=e[t]={i:t,l:!1,exports:{}};return n[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=n,o.c=e,o.d=function(t,r,n){o.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(r,t){if(1&t&&(r=o(r)),8&t)return r;if(4&t&&\"object\"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:r}),2&t&&\"string\"!=typeof r)for(var e in r)o.d(n,e,function(t){return r[t]}.bind(null,e));return n},o.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(r,\"a\",r),r},o.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},o.p=\"\",o(o.s=0)}([function(t,r,n){\"use strict\";n.r(r);var u=function(){function t(){}return t.Ascending={IsNum:!0},t.Descending={IsNum:!0},t.AtoZ={IsNum:!1},t.ZtoA={IsNum:!1},t}(),e=function(){function t(){this.m=\" _-,;:!?.'\\\"()[]{ }@*/&#%`^+<=>|~$0123456789aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ\"}return t.prototype.AssertExtend=function(){this.IsExtended||this.t(\"Core needs to be extended\")},Object.defineProperty(t.prototype,\"IsExtended\",{get:function(){return null!=Map.prototype.All},enumerable:!0,configurable:!0}),t.prototype.ExtendPrimitives=function(){var i=this;String.prototype.Match=function(t){return this.match(t)||[]},String.prototype.ReplaceAll=function(t,r){return this.replace(new RegExp(t,\"g\"),r)},String.prototype.IsEmpty=function(){return 0===this.trim().length},String.prototype.Starts=function(t){if(this.IsEmpty()||t.IsEmpty())return!1;var r=t.trim();return this.trim().Take(r.length)===r},String.prototype.Ends=function(t){if(this.IsEmpty()||t.IsEmpty())return!1;var r=t.trim();return this.trim().Last(r.length)===r},String.prototype.CharAt=function(t){return(-1<t&&t>=this.length||t<0&&-t>this.length)&&i.t(\"Cannot exceed length of string\"),this.charAt(t+(t<0?this.length:0))},String.prototype.RemoveCharAt=function(t){var r=t+(t<0?this.length:0);return(-1<t&&t>=this.length||-t>=this.length+1&&t<0)&&i.t(\"Cannot exceed length of string\"),this.Take(r)+this.Skip(r+1)},String.prototype.Remove=function(t){return this.split(t).join(\"\")},String.prototype.Without=function(t){var r=this;return t.Each(function(t){return r=r.Remove(t)}),r},String.prototype.Skip=function(t){return this.substr(t)},String.prototype.Take=function(t){return null==t?0===this.length?\"\":this.charAt(0):this.substr(0,t)},String.prototype.Last=function(t){return null==t?0===this.length?\"\":this.charAt(this.length-1):this.substr(this.length-t)},String.prototype.Omit=function(t){return this.substr(0,this.length-t)},String.prototype.Repeat=function(t){return t<0&&i.t(\"Count cannot be negative\"),this.repeat(t)},String.prototype.Count=function(t){var r=new RegExp(t,\"gi\");return this.Match(r).length},String.prototype.Capitalize=function(){return this.Take(1).toUpperCase()+this.Skip(1)},String.prototype.CapitalizeWords=function(){return this.split(\" \").Map(function(t){return t.Capitalize()}).join(\" \")},String.prototype.IsAlphanumeric=function(){return!this.IsEmpty()&&null==this.split(\"\").Map(function(t){return t.charCodeAt(0)}).When(function(t){return!(47<t&&t<58||64<t&&t<91||96<t&&t<123)},function(){return!1})},String.prototype.IsHexadecimal=function(){return!this.IsEmpty()&&parseInt(this.toLowerCase(),16).toString(16)===this.toLowerCase()},String.prototype.LineBreak=function(){return this.ReplaceAll(\"\\r\\n\",\"\\n\").ReplaceAll(\"\\r\",\"\\n\").split(\"\\n\")},Number.prototype.Odd=function(){return!(!this.Int()||0===this)&&this%2!=0},Number.prototype.Even=function(){return!(!this.Int()||0===this)&&this%2==0},Number.prototype.Int=function(){return!!i.IsNumber(this)&&Math.abs(this%1)<1e-15},Number.prototype.Finite=function(){return!!i.IsAnyNumber(this)&&(!this.NaN()&&isFinite(this))},Number.prototype.Infinite=function(){return!!i.IsAnyNumber(this)&&(!this.NaN()&&!isFinite(this))},Number.prototype.NaN=function(){return isNaN(this)},Number.prototype.RoundOff=function(){i.A(this);var t=this<0?-1:1;return t*Math.round(t*this)},Number.prototype.Ceil=function(){i.A(this);var t=this<0?-1:1;return t*Math.ceil(t*this)},Number.prototype.Floor=function(){i.A(this);var t=this<0?-1:1;return t*Math.floor(t*this)},Number.prototype.Abs=function(){return i.A(this),Math.abs(this)},Number.prototype.Root=function(){return i.A(this),this<0&&i.t(\"Can't root negative\"),Math.sqrt(this)},Number.prototype.ToInt=function(){return i.i(this)},Number.prototype.ToFloat=function(){return i.f(this)},String.prototype.ToInt=function(){return i.i(this)},String.prototype.ToFloat=function(){return i.f(this)},Number.prototype.AtMax=function(t){return i.A(this),Math.min(this,t)},Number.prototype.AtMin=function(t){return i.A(this),Math.max(this,t)},Number.prototype.Clamp=function(t,r){return i.A(this),this.AtMax(t.AtMin(r)).AtMin(t.AtMax(r))},Number.prototype.RandomTo=function(t,r){return i.A(this),r?(this+Math.random()*(t-this+1)).Floor():(this+Math.random()*(t-this+1)).AtMax(t)},Number.prototype.RandomFor=function(t,r){return this.RandomTo(this+t-1,r)},Array.prototype.Flatten=function(){return 0===this.length?[]:this.Reduce(function(t,r){return t.concat(r)})},Array.prototype.Merge=function(n){if(this.length!==n.length)throw\"Array has to be same length\";var e=new Map;return this.Each(function(t,r){return e.set(t,n[r])}),e},Array.prototype.AsKey=function(n){var e=new Map;return this.Each(function(t,r){return e.set(t,n(t,r))}),e},Array.prototype.AsValue=function(n){var e=new Map;return this.Each(function(t,r){return e.set(n(t,r),t)}),e},Array.prototype.TrimAll=function(){return this.Map(function(t){return t.trim()})},Array.prototype.Sort=function(n,e){var t=this.slice();null==e&&(n.IsNum&&!i.IsNumberArray(t)||!i.IsStringArray(t)&&!n.IsNum)&&i.t(\"Please provide scoring strategy\"),null==e&&(e=function(t){return t});var o=n===u.Ascending||n===u.AtoZ?1:-1;return t.sort(function(t,r){return(n.IsNum?e(t)>e(r)?1:-1:i.lc(e(t),e(r)))*o}),t},Array.prototype.Reverse=function(){var r=[];return this.Each(function(t){return r.push(t)},!0),r},Array.prototype.Has=function(r,n){return void 0===n&&(n=!1),this.When(function(t){return i.Eq(t,r,n)},function(){return!0})||!1},Array.prototype.Where=function(t){var r=[];return this.When(t,function(t){r.push(t)},!1),r},Array.prototype.Map=function(n){var e=[];return this.Each(function(t,r){return e.push(n(t,r))}),e},Array.prototype.Each=function(t,r){if(void 0===r&&(r=!1),!r){for(var n=0;n<this.length;n++)t(this[n],n);return this}for(n=this.length-1;0<=n;n--)t(this[n],n);return this},Array.prototype.RemoveValue=function(r,n){return void 0===n&&(n=!1),this.Where(function(t){return!i.Eq(t,r,n)})},Array.prototype.Without=function(r,n){return void 0===n&&(n=!1),this.Where(function(t){return!r.Has(t,n)})},Array.prototype.WithoutIndex=function(n){return this.Where(function(t,r){return!n.Has(r)})},Array.prototype.Fill=function(t,r){for(var n=this.slice(),e=0;e<t;e++)n.push(r(e));return n},Array.prototype.RemoveIndex=function(n){return this.Where(function(t,r){return r!==n})},Array.prototype.Take=function(t){return null==t?0===this.length?null:this[0]:this.slice(0,t)},Array.prototype.TakeWhile=function(t){var r=[];return this.When(t,function(t){r.push(t)},!0),r},Array.prototype.Skip=function(t){return this.slice(t)},Array.prototype.SkipWhile=function(t){var r=0;return this.When(t,function(){r++},!0),this.Skip(r)},Array.prototype.Omit=function(t){return this.slice(0,-t)},Array.prototype.OmitWhile=function(t){var r=0;return this.Reverse().When(t,function(){r++},!0),this.Omit(r)},Array.prototype.Last=function(t){if(null==t)return 0===this.length?null:this[this.length-1];var r=this.length-t;return this.slice(0<r?r:0)},Array.prototype.LastWhile=function(t){var r=0;return this.Reverse().When(t,function(){r++},!0),this.Last(r)},Array.prototype.FirstIndexOf=function(r,n){return void 0===n&&(n=!1),this.FindIndex(function(t){return i.Eq(t,r,n)})},Array.prototype.Count=function(r,n){return void 0===n&&(n=!1),this.Where(function(t){return i.Eq(t,r,n)}).length},Array.prototype.Indexes=function(r,n){void 0===n&&(n=!1);var e=[];return this.When(function(t){return i.Eq(t,r,n)},function(t,r){e.push(r)}),e},Array.prototype.Unique=function(n){var e=this;return void 0===n&&(n=!1),this.Where(function(t,r){return e.FirstIndexOf(t,n)===r})},Array.prototype.Union=function(t,r){return void 0===r&&(r=!1),this.concat(t).Unique(r)},Array.prototype.Intersect=function(r,n){return void 0===n&&(n=!1),this.Unique(n).Where(function(t){return r.Has(t,n)})},Array.prototype.Outer=function(t,r){return void 0===r&&(r=!1),this.Union(t,r).Without(this.Intersect(t,r),r)},Array.prototype.Max=function(e){return void 0===e&&(e=function(t,r){return t}),this.Reverse().Reduce(function(t,r,n){return e(t,n-1)>e(r,n)?t:r})},Array.prototype.Min=function(e){return void 0===e&&(e=function(t,r){return t}),this.Reverse().Reduce(function(t,r,n){return e(t,n-1)<e(r,n)?t:r})},Array.prototype.Sum=function(n){return void 0===n&&(n=function(t){return t}),this.Map(function(t,r){return n(t,r)}).Reduce(function(t,r){return t+r})},Array.prototype.Reduce=function(t){if(0===this.length&&i.t(\"Empty Array\"),1===this.length)return this[0];for(var r=this[0],n=1;n<this.length;n++)r=t(r,this[n],n-1);return r},Array.prototype.Find=function(t){var r=this.When(t,function(t){return t});return null==r?null:r},Array.prototype.FindIndex=function(t){var r=this.When(t,function(t,r){return r});return null==r?null:r},Array.prototype.Any=function(t){return this.When(t,function(){return!0})||!1},Array.prototype.All=function(n){return!this.Any(function(t,r){return!n(t,r)})},Array.prototype.When=function(t,r,n){void 0===n&&(n=!1);for(var e=0;e<this.length;e++)if(t(this[e],e)){var o=r(this[e],e);if(void 0!==o)return o}else if(n)break},Array.prototype.Random=function(){return 0===this.length?null:1===this.length?this[0]:this[(0).RandomFor(this.length,!0)]},Map.prototype.TrimValue=function(){return this.MapValue(function(t){return t.trim()})},Map.prototype.SortByKey=function(t,r){var n=this.Arr();return n=n.Sort(t,null==r?function(t){return t[0]}:function(t){return r(t[0])}),new Map(n)},Map.prototype.SortByValue=function(t,r){var n=this.Arr();return n=n.Sort(t,null==r?function(t){return t[1]}:function(t){return r(t[1])}),new Map(n)},Map.prototype.Reverse=function(){return new Map(this.Arr().Reverse())},Map.prototype.HasKey=function(t,r){return this.Keys().Has(t,r)},Map.prototype.HasValue=function(t,r){return this.Values().Has(t,r)},Map.prototype.Where=function(r){return new Map(this.Arr().Where(function(t){return i.M(t,r)}))},Map.prototype.MapKey=function(n){var e=new Map;return this.Each(function(t,r){return e.set(n(t,r),r)}),e},Map.prototype.MapValue=function(n){var e=new Map;return this.Each(function(t,r){return e.set(t,n(r,t))}),e},Map.prototype.Map=function(n){var e=[];return this.Each(function(t,r){return e.push(n(t,r))}),e},Map.prototype.Each=function(r){var n=new Map;return this.Arr().Each(function(t){r(t[0],t[1]),n.set(t[0],t[1])}),n},Map.prototype.RemoveKey=function(r,n){return void 0===n&&(n=!1),this.Where(function(t){return!i.Eq(r,t,n)})},Map.prototype.RemoveValue=function(n,e){return void 0===e&&(e=!1),this.Where(function(t,r){return!i.Eq(r,n,e)})},Map.prototype.Without=function(n,e,o){return void 0===o&&(o=!1),this.Where(function(t,r){return!n.Has(t,o)&&!e.Has(r,o)})},Map.prototype.Take=function(t){if(null!=t)return new Map(this.Arr().Take(t));var r=this.Arr().Take();return null==r?null:i.P(r)},Map.prototype.TakeWhile=function(r){return new Map(this.Arr().TakeWhile(function(t){return i.M(t,r)}))},Map.prototype.Skip=function(t){return new Map(this.Arr().Skip(t))},Map.prototype.SkipWhile=function(r){return new Map(this.Arr().SkipWhile(function(t){return i.M(t,r)}))},Map.prototype.Omit=function(t){return new Map(this.Arr().Omit(t))},Map.prototype.OmitWhile=function(r){return new Map(this.Arr().OmitWhile(function(t){return i.M(t,r)}))},Map.prototype.Last=function(t){if(null!=t)return new Map(this.Arr().Last(t));var r=this.Arr().Last();return null==r?null:i.P(r)},Map.prototype.LastWhile=function(r){return new Map(this.Arr().LastWhile(function(t){return i.M(t,r)}))},Map.prototype.Arr=function(){return Array.from(this.entries())},Map.prototype.Keys=function(){return Array.from(this.keys())},Map.prototype.Values=function(){return Array.from(this.values())},Map.prototype.Find=function(r){var t=this.Arr().Find(function(t){return i.M(t,r)});return null==t?null:i.P(t)},Map.prototype.Max=function(r){return i.P(this.Arr().Max(function(t){return r(t[0],t[1])}))},Map.prototype.Min=function(r){return i.P(this.Arr().Min(function(t){return r(t[0],t[1])}))},Map.prototype.Sum=function(r){return this.Arr().Sum(function(t){return r(t[0],t[1])})},Map.prototype.Reduce=function(t){return this.Arr().Map(function(t){return i.P(t)}).Reduce(t)},Map.prototype.Any=function(r){return this.Arr().Any(function(t){return i.M(t,r)})},Map.prototype.All=function(r){return this.Arr().All(function(t){return i.M(t,r)})},Map.prototype.AsObject=function(){var e={};return this.Each(function(t,r){var n=t.split(\".\");i.SV(e,n,r)}),e}},t.prototype.DeepEqual=function(r,n){var e=this;if(r===n)return!0;if(void 0===r||void 0===n)return!1;if(null===r||null===n)return!1;if(typeof r!=typeof n)return!1;if(e.TC(r,n,\"string\"))return String(r)===String(n);if(e.TC(r,n,\"number\"))return isNaN(r)?isNaN(n):r===n;if(e.TC(r,n,\"boolean\"))return r===n;if(r instanceof Date)return r.valueOf()===n.valueOf();if(r.constructor!==n.constructor)return!1;if(r instanceof Function||r instanceof RegExp)return r.toString()===n.toString();if(this.IsArray(r)){if(!this.IsArray(n))return!1;if(r.length!==n.length)return!1}if(r instanceof Object&&n instanceof Object){var o=Object.keys(r);return Object.keys(n).every(function(t){return-1!==o.indexOf(t)})&&o.every(function(t){return e.Eq(r[t],n[t],!0)})}return!1},t.prototype.IsAnyString=function(t){return\"string\"==typeof t||t instanceof String},t.prototype.IsString=function(t){return!!this.IsAnyString(t)&&\"\"!==t.trim()},t.prototype.IsAnyNumber=function(t){return null!=t&&(\"number\"==typeof t||t instanceof Number)},t.prototype.IsNumber=function(t,r){if(void 0===r&&(r=!1),this.IsAnyNumber(t))return!isNaN(t)&&isFinite(t);if(this.IsAnyString(t)&&r){var n=parseFloat(t);return!isNaN(n)&&isFinite(n)}return!1},t.prototype.IsArray=function(t){return Array.isArray(t)},t.prototype.IsBooleanArray=function(t){return this.I(t,\"boolean\")},t.prototype.IsNumberArray=function(t){return this.I(t,\"number\")},t.prototype.IsStringArray=function(t){return this.I(t,\"string\")},t.prototype.Random=function(t){var r=this.m.Skip(34).split(\"\");return[].Fill(t,function(){return r.Random()}).join(\"\")},t.prototype.WrapArray=function(t){return this.IsArray(t)?t:[t]},t.prototype.Eq=function(t,r,n){return n?this.DeepEqual(t,r):t===r},t.prototype.FlattenObject=function(t){return this.FO(t)},t.prototype.FO=function(t,r){void 0===r&&(r=\"\");var n=new Map;for(var e in t)if(t.hasOwnProperty(e)){var o=t[e];this.NO(o)?n.set(r+e,o):n=new Map(n.Arr().Union(this.FO(o,r+e+\".\").Arr(),!0))}return n},t.prototype.I=function(t,r){return this.IsArray(t)&&t.every(function(t){return typeof t===r})},t.prototype.NO=function(t){return this.IsArray(t)||t instanceof RegExp||t instanceof Date||!this.TO(t,\"object\")||this.TO(t,\"function\")},t.prototype.TO=function(t,r){return typeof t===r},t.prototype.SV=function(t,r,n){var e=r[0];1===r.length?t[e]=n:(this.TO(t[e],\"undefined\")&&(t[e]={}),this.SV(t[e],r.Skip(1),n))},t.prototype.t=function(t){throw new Error(t)},t.prototype.lc=function(t,r){for(var n=\"\",e=\"\",o=0,i=t.length===r.length;n===e&&o<100;)n=(i?t:t.toLowerCase()).charAt(o),e=(i?r:r.toLowerCase()).charAt(o),o++;return(this.m.indexOf(n)-this.m.indexOf(e)).Clamp(-1,1)},t.prototype.TC=function(t,r,n){return typeof t===n&&typeof r===n},t.prototype.M=function(t,r){return r(t[0],t[1])},t.prototype.P=function(t){return{key:t[0],value:t[1]}},t.prototype.i=function(t){return this.A(t),this.IsAnyString(t)?parseInt(t):Math.trunc(t)},t.prototype.f=function(t){return this.A(t),parseFloat(t)},t.prototype.A=function(t){this.IsNumber(t,!0)||this.t(\"Invalid Number\")},t}();n.d(r,\"Kore\",function(){return e}),n.d(r,\"SortType\",function(){return u})}])});","import {Core, SortType} from \"@kirinnee/core\";\nimport {Rimage} from \"./Rimage\";\n\ntype ReadyListener = ()=> void;\n\nclass Rimager {\n\t\n\n\tprivate readonly modifier: (s:string)=>string;\n\tprivate readonly sizes: Map<string,number>;\n\tprivate core: Core;\n\t\n\tconstructor(core:Core ,rimage: Rimage, dev:boolean ) {\n\t\tthis.core = core;\n\t\tcore.AssertExtend();\n\t\t//SETUP SIZES\n\t\tthis.sizes = new Map([]);\n\t\tlet key = rimage.key;\n\t\tlet def = rimage.width;\n\t\tfor(let key in rimage.sizes){\n\t\t\tif(rimage.sizes.hasOwnProperty(key)){\n\t\t\t\tlet value:number = rimage.sizes[key];\n\t\t\t\tif(!core.IsString(key)) throw new Error(\"size key must be non-empty string\");\n\t\t\t\tif(!key.IsAlphanumeric()) throw new Error(\"size key must be alphanumeric\");\n\t\t\t\tif(!core.IsNumber(value,false)) throw new Error(\"size value must be number\");\n\t\t\t\tthis.sizes.set(key, value);\n\t\t\t}\n\t\t}\n\t\tif(this.sizes.size === 0) throw new Error(\"Sizes cannot be empty!\");\n\t\tif(!this.sizes.HasKey(key)) throw new Error(\"No default key in sizes!\");\n\t\t\n\t\t\n\t\t//Use sizes to set the modifier\n\t\tif(dev){\n\t\t\tthis.modifier = s => s;\n\t\t}else{\n\t\t\tlet w:number = window.innerWidth;\n\t\t\tlet under:number = this.sizes.get(key)!;\n\t\t\tlet truncated: Map<string,number> = this.sizes.MapValue(v => v/under*def);\n\t\t\tlet sorted: Map<string,number> =truncated.Where((k,v)=> v >= w);\n\t\t\tlet rKey:string = sorted.size === 0 ? truncated.SortByValue(SortType.Descending).Keys().Take()!: sorted.SortByValue(SortType.Ascending).Keys().Take()!;\n\t\t\t\n\t\t\t//set the modifier\n\t\t\tthis.modifier = s => {\n\t\t\t\tlet arr:string[] = s.split(\".\");\n\t\t\t\tlet ext:string = arr.Last()!.toLowerCase();\n\t\t\t\t\n\t\t\t\tif(ext === \"jpg\" || ext === \"png\" || ext === \"jpeg\"){\n\t\t\t\t\treturn `${arr.Omit(1).join(\".\")}_${rKey}.${ext}`;\n\t\t\t\t}else{\n\t\t\t\t\treturn s;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t\n\t}\n\t\n\t/**\n\t * Events to fire when DOM is ready\n\t * @param listener event to fire\n\t */\n\tprivate registerReady(listener: ReadyListener){\n\t\tif ((document as any).attachEvent != null ? document.readyState === \"complete\" : document.readyState !== \"loading\") {\n\t\t\tlistener();\n\t\t} else {\n\t\t\tdocument.addEventListener('DOMContentLoaded', () => {\n\t\t\t\tlistener();\n\t\t\t});\n\t\t}\n\t}\n\t\n\tExtendPrimitives() : void{\n\t\tlet r = this;\n\t\tString.prototype.Rimage = function():string{\n\t\t\treturn r.modifier(this);\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Converts images\n\t * @param images\n\t * @param firedEvent\n\t * @constructor\n\t */\n\tRegisterImages(images: {[s:string]: string }, firedEvent: (ev: ImageLoadEvent)=> void = ()=>{}):void{\n\t\tfor(let k in images){\n\t\t\tif(images.hasOwnProperty(k)){\n\t\t\t\tlet val:string = images[k];\n\t\t\t\timages[k] = this.modifier(val);\n\t\t\t}\n\t\t}\n\t\t\n\t\tlet map: Map<string,string> = this.core.FlattenObject(images);\n\t\tlet pass:number = 0;\n\t\tlet fail:number = 0;\n\t\tlet total: number = map.size;\n\t\tlet rimage = this;\n\t\t\n\t\tmap.Values().Each(e => new Promise<void>(async resolve => {\n\t\t\t\tlet success:boolean = await rimage.RegisterImage(e);\n\t\t\t\tif(success) pass++;\n\t\t\t\telse fail ++;\n\t\t\t\tlet completed:number = pass + fail;\n\t\t\t\tlet over: string = `${completed}/${total}`;\n\t\t\t\tlet event: ImageLoadEvent = {\n\t\t\t\t\tfailed: fail,\n\t\t\t\t\tsucceeded: pass,\n\t\t\t\t\ttotal: total,\n\t\t\t\t\tprogress: {\n\t\t\t\t\t\tlinear:{\n\t\t\t\t\t\t\tpercentage: `${(completed/total).toFixed(2)}%`,\n\t\t\t\t\t\t\tover:over,\n\t\t\t\t\t\t\tvalue: completed/total\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttangential:{\n\t\t\t\t\t\t\tpercentage: `${rimage.tangentProgess(completed,total,5).toFixed(2)}%`,\n\t\t\t\t\t\t\tover:over,\n\t\t\t\t\t\t\tvalue: rimage.tangentProgess(completed,total,5)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tfiredEvent(event);\n\t\t\t\tresolve();\n\t\t}));\n\t}\n\t\n\tprivate tangentProgess(over:number,under:number, curvature:number){\n\t\treturn Math.tan(over*(Math.atan(curvature))/under)/curvature;\n\t}\n\t\n\tprivate RegisterImage(src:string): Promise<boolean>{\n\t\tlet r = this;\n\t\tlet image: HTMLImageElement = new Image();\n\t\treturn new Promise<boolean>((resolve:(i:boolean)=>void)=>{\n\t\t\timage.onload = function(){\n\t\t\t\tresolve(true);\n\t\t\t};\n\t\t\timage.onerror = function(){\n\t\t\t\tresolve(false);\n\t\t\t};\n\t\t\timage.src = src;\n\t\t\timage.style.display = 'none';\n\t\t\timage.style.position = 'absolute';\n\t\t\tr.registerReady(()=>{\n\t\t\t\tdocument.getElementsByTagName('html')[0].append(image);\n\t\t\t});\n\t\t});\n\t\t\n\t}\n}\n\n\ninterface ImageLoadEvent{\n\tsucceeded: number;\n\ttotal: number;\n\tfailed:number;\n\tprogress: ProgressCalculation;\n}\n\ninterface ProgressCalculation{\n\tlinear: ProgressFormat;\n\ttangential: ProgressFormat;\n}\n\ninterface ProgressFormat{\n\t/**\n\t * String in percentage with 2 decimal place\n\t */\n\tpercentage: string;\n\t\n\t/**\n\t * String formatted as completed over total\n\t * x/y\n\t */\n\tover: string;\n\t\n\t/**\n\t * Raw value in floating point\n\t */\n\tvalue: number;\n}\n\n\n\nexport {Rimager,ImageLoadEvent,ProgressCalculation,ProgressFormat};","import {Rimage} from \"./classLibrary/Rimage\";\nimport {ProgressFormat, ProgressCalculation, ImageLoadEvent, Rimager} from \"./classLibrary/Rimager\";\n\ndeclare global{\n\tinterface String{\n\t\t/**\n\t\t * Make the image responsive\n\t\t * @constructor\n\t\t */\n\t\tRimage():string;\n\t}\n}\n\nexport {\n\tRimager,ImageLoadEvent,ProgressCalculation,ProgressFormat,Rimage\n}\n","module.exports = \"https://s3-ap-southeast-1.amazonaws.com/kirin.static.host/test/book.png\";","module.exports = \"https://s3-ap-southeast-1.amazonaws.com/kirin.static.host/test/sop.png\";","module.exports = \"https://s3-ap-southeast-1.amazonaws.com/kirin.static.host/test/sophie.png\";","// Init\nimport {Core, Kore} from \"@kirinnee/core\";\nimport {config} from \"./rimage.config\";\n\nlet core: Core = new Kore();\ncore.ExtendPrimitives();\n\nimport sop from \"./assets/test/sop.png\";\nimport sophie from \"./assets/test/sophie.png\";\nimport book from \"./assets/test/book.png\";\nimport {ImageLoadEvent, Rimager} from \"../../src\";\n\nlet rimager: Rimager = new Rimager(core, config, false);\n\nlet images: any = {\n\tryne1: sop,\n\tryne2: sophie,\n\tbook: book\n};\n\nrimager.RegisterImages(images, (ev :ImageLoadEvent)=>{\n\tconsole.log(ev);\n\tif((document as any).attachEvent != null ? document.readyState === \"complete\" : document.readyState !== \"loading\"){\n\t\tdocument.getElementById(\"load-progress\")!.innerText = ev.progress.tangential.over;\n\t}\n});\n\nexport {\n\tcore,\n\trimager,\n\timages\n}","import {Rimage} from \"../../src\";\n\nlet config : Rimage = {\n\tkey: \"def\",\n\twidth: 2000,\n\tsizes:{\n\t\tdef: 50,\n\t\tmed: 30,\n\t\tsmall :10\n\t}\n};\n\nexport {\n\tconfig\n};"],"sourceRoot":""}